---
name: "QA4 - Auth scenario - Native"
default: false
interval: 24

parameters:
  label: qa4-auth-login
  connectivity: Native
  location: Linux_Chrome
  runs: 1
  timeline: true
  minimumDuration: 30
  url: "https://www-qa4.tcsbank.ru"
  scriptDescription:
    - combineSteps
    -
      navigate: "https://www-qa4.tcsbank.ru"
    -
      execAndWait: >
        function setDomInputValue(a,b){var c=Object.getPrototypeOf(b);console.log(b,c);var d=Object.getOwnPropertyDescriptor(b,'value')&&Object.getOwnPropertyDescriptor(b,'value').set,f=Object.getOwnPropertyDescriptor(c,'value')&&Object.getOwnPropertyDescriptor(c,'value').set;d&&f&&d!==f?(console.log('main'),f.call(b,a)):d?(console.log('main b'),d.call(b,a)):(console.log('main c'),f.call(b,a)),b.dispatchEvent(new Event('input',{bubbles:!0}))}function findElement(a){return new Promise(function(b){function d(){var f=document.querySelector(a);f?(console.log('elem finded',a,f),b(f)):setTimeout(d,200)}d()})}var login='log042',password='pass042';findElement('a[href="/login/"]').then(function(a){return a.click(),findElement('input[name=login]')}).then(function(a){return setDomInputValue(login,a),findElement('input[name=password]')}).then(function(a){return setDomInputValue(password,a),findElement('button[type=submit]')}).then(function(a){return a.click()}).catch(function(a){return console.error(a)});
---

